Handlebars.registerPartial('partials', '{{login-block}}');

const handlebars = require("handlebars");
const express = require('express');
const app = express();
const bodyParser = require('body-parser');
const exphbs = require('express-handlebars');

app.use(express.static(__dirname + '/public'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({extended: true}));

// Handlebars setting
app.set("view engine", "handlebars");
app.engine('handlebars', exphbs({
  extname: 'handlebars', 
  defaultlayout: 'main',
  layoutsDir: __dirname + '/views/layouts',
  partialsDir: __dirname + '/views/partials',
}));

const port = 3333;
app.listen(port);
console.log("listening to server: https://localhost:${port}");

// Landing page
app.get('/', (req, res) =>{
  res.render("main");
});

{{>(login-block.handlebars }}